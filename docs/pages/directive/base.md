---
title: Базовые директивы
sidebar: doc_sidebar
permalink: base_directives.html
folder: directive
---

### Особенности

* На верхнем уровне могут использоваться только директивы dimg и dimg\_group.
* Часть директив имеют несколько возможных форм записи.

### dimg \<name\>

Определяет образ dimg для сборки.

* В одном Dappfile может быть только один безымянный образ.
* Можно определять несколько образов в одном Dappfile.

#### Примеры

##### Собирать образ, не указывая имени
```ruby
dimg
```

##### Собирать образы X и Y
```ruby
dimg 'X'
dimg 'Y'
```

### dimg\_group

* При использовании блока создается новый контекст.
  * Наследуются все настройки родительского контекста.
  * Можно дополнять или переопределять настройки родительского контекста.
  * Можно использовать директиву dimg\_group внутри нового контекста.

#### Примеры

##### Собирать образы X, Y и Z
```ruby
dimg 'X'

dimg_group do
  dimg 'Y'

  dimg_group do
    dimg 'Z'
  end
end
```

### install\_depends\_on \<glob\>[,\<glob\>, \<glob\>, ...]
Список файлов зависимостей для стадии install.

* При изменении содержимого указанных файлов, произойдет пересборка стадии install.
* Учитывается лишь содержимое файлов и порядок в котором они указаны (имена файлов не учитываются).
* Поддерживаются glob-паттерны.
* Пути в \<glob\> указываются относительно [директории проекта](definitions.html#директория-проекта).
* Директории игнорируются.
* \<glob\> чувствителен к регистру.

### setup\_depends\_on \<glob\>[,\<glob\>, \<glob\>, ...]
Список файлов зависимостей для стадии setup.

* При изменении содержимого указанных файлов, произойдет пересборка стадии setup.
* Учитывается лишь содержимое файлов и порядок в котором они указаны (имена файлов не учитываются).
* Поддерживаются glob-паттерны.
* Пути в \<glob\> указываются относительно [директории проекта](definitions.html#директория-проекта).
* Директории игнорируются.
* \<glob\> чувствителен к регистру.
